{"ast":null,"code":"import _objectSpread from\"C:/Users/UTENTE/Desktop/GitHub/Tenzies/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/UTENTE/Desktop/GitHub/Tenzies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Die from'./Die';import{nanoid}from'nanoid';import Confetti from'react-confetti';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(){var _useState=useState(Dice()),_useState2=_slicedToArray(_useState,2),dice=_useState2[0],setDice=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),tenzies=_useState4[0],setTenzies=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),rollDice=_useState6[0],setRollDice=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),newGame=_useState8[0],setNewGame=_useState8[1];useEffect(function(){var allTrue=dice.every(function(die){return die.isHeld;});var firstValue=dice[0].value;var allValue=dice.every(function(die){return die.value===firstValue;});if(allTrue&&allValue){setTenzies(true);setNewGame(false);}else{setTenzies(false);setNewGame(false);}},[dice]);function GenerateNewDice(){return{value:Math.ceil(Math.random()*6),isHeld:false,id:nanoid()};}function Dice(){var newDice=[];for(var i=0;i<10;i++){newDice.push(GenerateNewDice());}return newDice;}var buttonIsHeld=dice.filter(function(isHeld){return isHeld.isHeld;}).length;function Roll(){if(!tenzies){setRollDice(true);setNewGame(false);setTimeout(function(){setRollDice(false);setDice(function(oldDice){return oldDice.map(function(help){return help.isHeld?help:GenerateNewDice();});});},1200);}else{setTenzies(false);setNewGame(false);setDice(Dice());}}function holdDice(id){setDice(function(prevDice){return prevDice.map(function(held){return held.id===id?_objectSpread(_objectSpread({},held),{},{isHeld:!held.isHeld}):held;});});}var elementDice=dice.map(function(pervDice){return/*#__PURE__*/_jsx(Die,{toggle:function toggle(){return holdDice(pervDice.id);},isHeld:pervDice.isHeld,class:rollDice?'rolling-animation die':'die',rolling:rollDice,value:pervDice.value},pervDice.id);});return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Tenzies\"}),/*#__PURE__*/_jsx(\"p\",{className:\"instructions\",children:\"Roll until all dice are the same. Click each die to freeze it at its current value between rolls.\"}),/*#__PURE__*/_jsx(\"div\",{className:'main-ctn',children:elementDice}),/*#__PURE__*/_jsxs(\"h3\",{children:[buttonIsHeld,\"/10\"]}),tenzies&&newGame===false?/*#__PURE__*/_jsx(\"button\",{className:\"disabled\",disabled:true,onClick:setTimeout(function(){setNewGame(true);},3500),style:{backgroundColor:'gray'},children:\"Compliment\"}):tenzies&&newGame===true?/*#__PURE__*/_jsx(\"button\",{onClick:Roll,children:\"New Game\"}):/*#__PURE__*/_jsx(\"button\",{onClick:Roll,children:\"Roll\"}),tenzies&&/*#__PURE__*/_jsx(Confetti,{width:1900})]});}","map":{"version":3,"names":["React","useState","useEffect","Die","nanoid","Confetti","Main","Dice","dice","setDice","tenzies","setTenzies","rollDice","setRollDice","newGame","setNewGame","allTrue","every","die","isHeld","firstValue","value","allValue","GenerateNewDice","Math","ceil","random","id","newDice","i","push","buttonIsHeld","filter","length","Roll","setTimeout","oldDice","map","help","holdDice","prevDice","held","elementDice","pervDice","backgroundColor"],"sources":["C:/Users/UTENTE/Desktop/GitHub/Tenzies/src/component/main.js"],"sourcesContent":["import React , {useState , useEffect}from 'react'\r\nimport Die from './Die'\r\nimport { nanoid } from 'nanoid'\r\nimport Confetti from 'react-confetti'\r\n\r\nexport default function Main(){\r\n    const [dice ,setDice] = useState(Dice())\r\n    const [tenzies , setTenzies] = useState(false)\r\n    const [rollDice , setRollDice] = useState(false)\r\n    const [newGame ,setNewGame] = useState(false)\r\n    \r\n    useEffect(()=>{\r\n      const allTrue = dice.every(die => die.isHeld)\r\n      const firstValue = dice[0].value\r\n      const allValue = dice.every(die => die.value === firstValue)\r\n      if(allTrue && allValue){\r\n        setTenzies(true)\r\n        setNewGame(false)\r\n      } else {\r\n        setTenzies(false)\r\n        setNewGame(false)\r\n      }\r\n    },[dice])\r\n    \r\n    function GenerateNewDice(){\r\n        return {value:Math.ceil(Math.random()*6) , isHeld :false , id:nanoid()}\r\n    }\r\n    \r\n    function Dice(){\r\n        const newDice = []\r\n        for(let i = 0 ; i < 10 ; i++){\r\n          newDice.push(GenerateNewDice())\r\n          }\r\n        return newDice\r\n       }\r\n  const buttonIsHeld = dice.filter(isHeld => isHeld.isHeld).length\r\n       function Roll(){        \r\n        if(!tenzies){\r\n          setRollDice(true)\r\n          setNewGame(false)\r\n          setTimeout(()=>{\r\n            setRollDice(false)\r\n            setDice(oldDice => oldDice.map(help => {return help.isHeld ? help : GenerateNewDice()}))\r\n          },1200)\r\n          \r\n        }else{\r\n          setTenzies(false)\r\n          setNewGame(false)\r\n          setDice(Dice())        \r\n        }\r\n       }\r\n     function holdDice(id){\r\n     setDice(prevDice => prevDice.map( held => {\r\n             return held.id === id ? {...held ,isHeld : !held.isHeld } : held})\r\n            )\r\n     }\r\n    const elementDice = dice.map(pervDice => <Die toggle={() =>holdDice(pervDice.id)}  isHeld={pervDice.isHeld} key={pervDice.id}\r\n                                                  class={rollDice ? 'rolling-animation die' : 'die'} rolling={rollDice} value={pervDice.value} />)\r\n    return(\r\n        <main>\r\n            <h1 className=\"title\">Tenzies</h1>\r\n            <p className=\"instructions\">Roll until all dice are the same. Click each die to freeze it at its current value between rolls.</p>\r\n          <div className={'main-ctn'}>\r\n            {elementDice}\r\n          </div> \r\n          <h3>{buttonIsHeld}/10</h3>\r\n          {tenzies && newGame === false ?<button className='disabled' disabled  onClick={setTimeout(()=>{setNewGame(true)},3500)} style={{backgroundColor:'gray'}}>Compliment</button>\r\n          : tenzies && newGame === true ? <button onClick={Roll}>New Game</button>\r\n          :        <button onClick={Roll}>Roll</button>}\r\n          {tenzies && <Confetti width={1900}/>}\r\n        </main>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}